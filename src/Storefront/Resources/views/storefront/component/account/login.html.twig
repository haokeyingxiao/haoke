{% block component_account_login %}
    <div class="login-card card mb-3 border-0 rounded-4 p-3 p-md-4 p-xl-5">
        <div class="card-body">
            {% block component_account_login_header %}
                {% block component_account_login_logo %}
                    <div class="text-center mb-4">
                        {% sw_include '@Storefront/storefront/layout/header/logo.html.twig' %}
                    </div>
                {% endblock %}
                {% block component_account_login_flashbags %}
                    <div class="flashbags container">
                        {% for type, messages in app.flashes %}
                            {% sw_include '@Storefront/storefront/utilities/alert.html.twig' with { type: type, list: messages } %}
                        {% endfor %}
                    </div>
                {% endblock %}
                {% if cardTitle %}
                    <h2 class="card-title">
                        {{ cardTitle }}
                    </h2>
                {% endif %}
            {% endblock %}

            {% block component_account_login_form %}
                <form class="login-form"
                      action="{{ path('frontend.account.login') }}"
                      method="post"
                      data-form-validation="true">
                    {% block component_account_login_form_redirect %}
                        <input type="hidden"
                               name="redirectTo"
                               value="{{ redirectTo }}">

                        <input type="hidden"
                               name="redirectParameters"
                               value="{{ redirectParameters }}">
                    {% endblock %}

                    {% block component_account_login_form_description %}
                        <p class="login-form-description">
                            {{ 'account.loginFormDescription'|trans|sw_sanitize }}
                        </p>
                    {% endblock %}

                    {% block component_account_login_form_error %}
                        {% if loginError %}
                            {% if errorSnippet != null %}
                                {% sw_include '@Storefront/storefront/utilities/alert.html.twig' with {
                                    type: 'danger',
                                    content: errorSnippet|trans|sw_sanitize
                                } %}
                            {% elseif waitTime != null %}
                                {% sw_include '@Storefront/storefront/utilities/alert.html.twig' with {
                                    type: 'info',
                                    content: 'account.loginThrottled'|trans({'%seconds%': waitTime})|sw_sanitize
                                } %}
                            {% else %}
                                {% sw_include '@Storefront/storefront/utilities/alert.html.twig' with {
                                    type: 'danger',
                                    content: 'account.loginBadCredentials'|trans|sw_sanitize
                                } %}
                            {% endif %}
                        {% endif %}
                    {% endblock %}

                    {% block component_account_login_form_fields %}
                            {% block component_account_login_form_mail %}
                                <div class="form-group">
                                    {% block component_account_login_form_mail_label %}
                                        <label class="form-label"
                                               for="loginMail">
                                            {{ 'account.loginMailLabel'|trans|sw_sanitize }}
                                        </label>
                                    {% endblock %}

                                    {% block component_account_login_form_mail_input %}
                                        <input type="email"
                                               class="form-control{% if loginError %} is-invalid{% endif %}"
                                               autocomplete="username webauthn"
                                               id="loginMail"
                                               placeholder="{{ 'account.loginMailPlaceholder'|trans|striptags }}"
                                               name="username"
                                               required="required">
                                    {% endblock %}
                                </div>
                            {% endblock %}

                            {% block component_account_login_form_password %}
                                <div class="form-group">
                                    {% block component_account_login_form_password_label %}
                                        <label class="form-label"
                                               for="loginPassword">
                                            {{ 'account.loginPasswordLabel'|trans|sw_sanitize }}
                                        </label>
                                    {% endblock %}

                                    {% block component_account_login_form_password_input %}
                                        <input type="password"
                                               class="form-control{% if loginError %} is-invalid{% endif %}"
                                               autocomplete="current-password"
                                               id="loginPassword"
                                               placeholder="{{ 'account.loginPasswordPlaceholder'|trans|striptags }}"
                                               name="password"
                                               required="required">
                                    {% endblock %}
                                </div>
                            {% endblock %}
                    {% endblock %}

                    {% block component_account_login_action %}
                        <div class="d-flex justify-content-between">
                            {% block component_account_login_password_recover %}
                                <div class="login-password-recover mb-3">
                                    {% block component_account_login_password_recover_link %}
                                        <a href="{{ seoUrl('frontend.account.recover.page') }}">
                                            {{ 'account.loginPasswordRecover'|trans }}
                                        </a>
                                    {% endblock %}
                                </div>
                            {% endblock %}

                            {% block component_account_login_password_sign_up %}
                                <div class="login-register mb-3">
                                    {% block component_account_login_password_sign_up_link %}
                                        <a href="{{ seoUrl('frontend.account.register.page') }}">
                                            {{ 'account.loginRegisterLabel'|trans|striptags }}
                                        </a>
                                    {% endblock %}
                                </div>
                            {% endblock %}
                        </div>
                    {% endblock %}


                    {% block component_account_login_submit %}
                        <div class="login-submit d-grid">
                            <button type="submit"
                                    class="btn btn-primary">
                                {{ 'account.loginSubmit'|trans|sw_sanitize }}
                            </button>
                        </div>
                    {% endblock %}
                </form>
            {% endblock %}
        </div>
    </div>
{% endblock %}
